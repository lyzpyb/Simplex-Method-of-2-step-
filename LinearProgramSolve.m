function [z,x,xB] = LinearProgramSolve( A,b,c,st, MinMax,unst)
%通过二阶段法求解线性规划问题
%%%%%%%%%%%%输入%%%%%%%%%%%%%%%
%A为约束矩阵(m*n)
%c为目标函数(n*1)
%b为约束值(m*1)
%st为约束符号(>=:1;=:0;<=:-1)
%MinMax为目标函数形式（Min=1,Max=-1）
%unst为无约束变量下标(num*1)
%%%%%%%%%%%%算例%%%%%%%%%%%%
% A=[ -4 3 1 -1 0;
%    1 -1 2  0 1;
%    2 -2 1  0 0];
% b=[4;10;1];
% c=[3;2;-1;0;0];
% st=[0;0;0];
% MinMax=-1;
% unst=0;
%%%%%%%%%%%%输出%%%%%%%%%%%%%
% [ z,x,xB] = LinearProgramSolve( A,b,c,st, MinMax,unst)
% 第1次迭代后,单纯形表（矩阵）为：
%        b                                             xi                 
%      3    -6     5     0    -1     0     1     0    -1
%      8    -3     3     0     0     1     0     1    -2
%      1     2    -2     1     0     0     0     0     1
%     11     9    -8     0     1    -1     0     0     4
% 换出变量为x3，换入变量为x8
% 第2次迭代后,单纯形表（矩阵）为：
%        b                                             xi                 
%     0.6000   -1.2000    1.0000         0   -0.2000         0    0.2000         0   -0.2000
%     6.2000    0.6000         0         0    0.6000    1.0000   -0.6000    1.0000   -1.4000
%     2.2000   -0.4000         0    1.0000   -0.4000         0    0.4000         0    0.6000
%     6.2000   -0.6000         0         0   -0.6000   -1.0000    1.6000         0    2.4000
% 换出变量为x2，换入变量为x6
% 第3次迭代后,单纯形表（矩阵）为：
%        b                                             xi                 
%    13.0000         0    1.0000         0    1.0000    2.0000   -1.0000    2.0000   -3.0000
%    10.3333    1.0000         0         0    1.0000    1.6667   -1.0000    1.6667   -2.3333
%     6.3333         0         0    1.0000   -0.0000    0.6667    0.0000    0.6667   -0.3333
%          0         0         0         0   -0.0000   -0.0000    1.0000    1.0000    1.0000
% 换出变量为x1，换入变量为x7
% 第4次迭代后,单纯形表（矩阵）为：
%        b                                             xi                 
%     2.6667   -1.0000    1.0000         0         0    0.3333         0    0.3333   -0.6667
%    10.3333    1.0000         0         0    1.0000    1.6667   -1.0000    1.6667   -2.3333
%     6.3333    0.0000         0    1.0000   -0.0000    0.6667    0.0000    0.6667   -0.3333
%          0    0.0000         0         0         0    0.0000    1.0000    1.0000    1.0000
% 换出变量为x4，换入变量为x1
% 第5次迭代后,单纯形表（矩阵）为：
%        b                                             xi                 
%    13.0000         0    1.0000         0    1.0000    2.0000
%    10.3333    1.0000    0.0000         0    1.0000    1.6667
%     6.3333         0         0    1.0000         0    0.6667
%   -50.6667         0    0.0000         0    5.0000    8.3333
% 换出变量为x1，换入变量为x4 
% z =
%    50.6667
% x =
%    10.3333
%    13.0000
%     6.3333
%          0
%          0
% xB =
%      2     1     3
%%%%%%%%%%%主程序%%%%%%%%%%%%

    global t;%迭代次数
    t=0;
    [A, c, b] = TansStandard(A, c, b, st, MinMax,unst);
    xB=TwoStage(A,b); % 两阶段的第一阶段
    [ xB,b,z0 ]=SimplexMethod(A,b,-c,xB); % 第二阶段求最优解
    z=-z0;
    x=zeros(size(c));
    x(xB)=b;
end